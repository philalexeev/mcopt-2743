"use strict";function _createForOfIteratorHelper(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=_unsupportedIterableToArray(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,n,a=!0,l=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return a=e.done,e},e:function(e){l=!0,n=e},f:function(){try{a||null==o.return||o.return()}finally{if(l)throw n}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}window.onload=function(){var e,t,r,o,n,a;function l(e,t){var r=!0,o=t.querySelector(".form__input-name"),n=t.querySelector(".form__input-email"),a=t.querySelector(".form__input-telephone"),l="+7"+a.value.replace(/-/g,""),c=t.querySelector(".form__select-value"),s=t.querySelector(".form__textarea"),i=t.querySelector(".form__checkbox"),u=t.querySelector(".form__checkbox-label"),d=t.querySelector(".form__error");return o.value.trim()?o.classList.contains("form__error-field")&&o.classList.remove("form__error-field"):(o.classList.add("form__error-field"),r=!1),/^.+@.+\..+$/gim.test(n.value)?n.classList.contains("form__error-field")&&n.classList.remove("form__error-field"):(n.classList.add("form__error-field"),r=!1),/^((\+7|7|8)+([0-9]){10})$/gm.test(l)?a.parentElement.classList.contains("form__error-field")&&a.parentElement.classList.remove("form__error-field"):(a.parentElement.classList.add("form__error-field"),r=!1),0===parseInt(c.dataset.activeoption,10)?(c.closest(".form__select").classList.add("form__error-field"),r=!1):c.closest(".form__select").classList.contains("form__error-field")&&c.closest(".form__select").classList.remove("form__error-field"),s.value?s.classList.contains("form__error-field")&&s.classList.remove("form__error-field"):(s.classList.add("form__error-field"),r=!1),i.checked?u.classList.contains("form__checkbox-label--error")&&u.classList.remove("form__checkbox-label--error"):(u.classList.add("form__checkbox-label--error"),r=!1),r?($.post("../send.php",{name:o.value.trim(),email:n.value,phone:l,service:c.textContent,message:s.value}),1):(d.classList.add("form__error--visible"),void e.preventDefault())}!function(){var l,t=_createForOfIteratorHelper(document.querySelectorAll(".form__select"));try{var e=function(){var t=l.value;t.addEventListener("click",function(){var e=t.querySelector(".form__select-options");t.classList.toggle("form__select--opened"),e.classList.toggle("form__select-options--visible")});var r,e=t.querySelectorAll(".form__select-option"),o=t.querySelector(".form__select-value"),n=_createForOfIteratorHelper(e);try{var a=function(){var e=r.value;e.addEventListener("click",function(){e.textContent?(o.dataset.activeoption=e.dataset.option,o.textContent=e.textContent,o.closest(".form__error-field")&&o.closest(".form__error-field").classList.remove("form__error-field")):(o.dataset.activeoption=e.dataset.option,o.textContent="Выберите услугу")})};for(n.s();!(r=n.n()).done;)a()}catch(e){n.e(e)}finally{n.f()}};for(t.s();!(l=t.n()).done;)e()}catch(e){t.e(e)}finally{t.f()}}(),e=document.querySelector(".header__menu-btn"),t=document.querySelector(".header__menu-btn-close"),r=document.querySelector(".header__menu"),e.addEventListener("click",function(){r.classList.add("header__menu--opened")}),t.addEventListener("click",function(){r.classList.remove("header__menu--opened")}),function(){var e,t=document.querySelectorAll(".formopen"),r=document.querySelector(".popup-wrap"),o=document.querySelector(".popup-form"),n=document.querySelector(".popup-form__btn-close"),a=_createForOfIteratorHelper(t);try{for(a.s();!(e=a.n()).done;){e.value.addEventListener("click",function(){document.body.classList.add("blocked"),r.style.display="block",o.style.display="block",window.innerHeight>o.offsetHeight+40&&(r.style.display="flex",r.style.justifyContent="center",r.style.alignItems="center")})}}catch(e){a.e(e)}finally{a.f()}n.addEventListener("click",function(){document.body.classList.remove("blocked"),r.style.display="none",o.style.display="none"})}(),function(){var o,n,e,a=document.querySelector(".popup-wrap"),l=document.querySelector(".popup-products"),t=document.querySelectorAll(".prod-spb__products-link"),c=document.querySelector(".popup-products__btn-close"),s=document.querySelector(".popup-products__label"),r=_createForOfIteratorHelper(t);try{var i=function(){var r=e.value;r.addEventListener("click",function(e){e.preventDefault(),o=r.dataset.product,n=document.querySelector(".popup-products__list[data-list=".concat(o,"]"));var t="";switch(o){case"sweetshot":t="Свитшоты";break;case"shirt":t="Футболки";break;case"hoodie":t="Худи";break;case"shopper":t="Шоппер";break;case"bag":t="Поясная сумка";break;case"suvenirka":t="Сувенирка"}s.textContent=t,document.body.classList.add("blocked"),a.style.display="block",l.style.display="block",n.style.display="flex",c.style.position="fixed",window.innerHeight>l.offsetHeight&&(a.style.display="flex",a.style.justifyContent="center",a.style.alignItems="center",c.style.position="absolute")})};for(r.s();!(e=r.n()).done;)i()}catch(e){r.e(e)}finally{r.f()}document.querySelector(".popup-products__btn-close").addEventListener("click",function(){document.body.classList.remove("blocked"),a.style.display="none",l.style.display="none",n.style.display="none"})}(),function(){var c,s,i,u,d,e,t=_createForOfIteratorHelper(document.querySelectorAll(".cases__item-link"));try{var r=function(){var l=e.value;l.addEventListener("click",function(e){e.preventDefault(),i=l.dataset.name,d=l.dataset.amount,u=document.querySelector(".popup-cases__list");for(var t=1;t<=d;t++){var r=document.createElement("li");r.classList.add("popup-cases__list-item");var o=document.createElement("img");o.classList.add("popup-cases__image"),o.src="img/block-cases/".concat(i,"_").concat(t,".jpg"),r.append(o),u.append(r)}c=document.querySelector(".popup-wrap"),s=document.querySelector(".popup-cases");var n=document.querySelector(".popup-cases__label"),a="";switch(i){case"kashin":a="Кашин";break;case"mozee":a="Mozee Montana";break;case"alisher":a="Алишер Моргенштерн";break;case"lizzka":a="l1zzka";break;case"sqwozbab":a="Sqwoz bab";break;case"kfc":a="KFC";break;case"mukka":a="Мукка";break;case"booker":a="Booker";break;case"monetochka":a="Лиза Монеточка";break;case"anastasiz":a="Анастасиз";break;case"asya":a="Асинастра";break;case"karamba":a="Каррамбейби";break;case"mamcupy":a="Мам, купи!";break;case"sover":a="Совергон";break;case"sveta":a="Дейдример";break;case"sviter":a="Коллекция вязаных вещей 2019"}n.textContent=a,document.body.classList.add("blocked"),c.style.display="block",s.style.display="block",u.style.display="flex"})};for(t.s();!(e=t.n()).done;)r()}catch(e){t.e(e)}finally{t.f()}document.querySelector(".popup-cases__btn-close").addEventListener("click",function(){document.body.classList.remove("blocked"),c.style.display="none",s.style.display="none",u.style.display="none",u.innerHTML=""})}(),function(){var e,t=document.querySelector(".btn__show-more"),r=document.querySelectorAll(".cases__item"),o=[],n=_createForOfIteratorHelper(r);try{for(n.s();!(e=n.n()).done;){var a=e.value;"none"===getComputedStyle(a).display&&o.push(a)}}catch(e){n.e(e)}finally{n.f()}t.addEventListener("click",function(){for(var e=0;e<4;){if(o[0].style.display="block",o.shift(),!o.length){t.style.display="none";break}e++}e=0})}(),function(){var e,t=_createForOfIteratorHelper(document.querySelectorAll(".faq__item"));try{var r=function(){var t=e.value;t.addEventListener("click",function(){var e=t.querySelector(".faq__answer-inner");t.classList.toggle("faq__item--opened"),t.classList.contains("faq__item--opened")?e.parentElement.style.height=e.scrollHeight+"px":e.parentElement.style.height="0px"})};for(t.s();!(e=t.n()).done;)r()}catch(e){t.e(e)}finally{t.f()}}(),function(){var e,t=_createForOfIteratorHelper(document.querySelectorAll(".form__input-telephone"));try{for(t.s();!(e=t.n()).done;){var r=e.value;new Inputmask("999-999-99-99").mask(r)}}catch(e){t.e(e)}finally{t.f()}}(),function(){var t,e=document.querySelectorAll(".form__input-name, .form__input-email, .form__input-telephone, .form__textarea"),r=document.querySelectorAll(".form__checkbox"),o=_createForOfIteratorHelper(e);try{var n=function(){var e=t.value;e.oninput=function(){e.closest(".form__error-field")&&e.closest(".form__error-field").classList.remove("form__error-field")}};for(o.s();!(t=o.n()).done;)n()}catch(e){o.e(e)}finally{o.f()}var a,l=_createForOfIteratorHelper(r);try{var c=function(){var e=a.value;e.onchange=function(){e.nextElementSibling.classList.contains("form__checkbox-label--error")&&e.nextElementSibling.classList.remove("form__checkbox-label--error")}};for(l.s();!(a=l.n()).done;)c()}catch(e){l.e(e)}finally{l.f()}}(),function(){var e,t=_createForOfIteratorHelper(document.forms);try{var r=function(){var t=e.value;t.submit=function(e){l(e,t)},t.querySelector('button[type="button"]').addEventListener("click",function(e){l(e,t)})};for(t.s();!(e=t.n()).done;)r()}catch(e){t.e(e)}finally{t.f()}}(),o=document.querySelector(".popup-recall"),n=document.querySelector(".popup-recall .btn__request"),a=o.querySelector(".popup-recall__btn-close"),setTimeout(function(){o.classList.add("popup-recall--visible")},3e5),n.onclick=function(){var e="+7"+o.querySelector(".form__input-telephone").value.replace(/-/g,"");$.post("../sendrecall.php",{phone:e})},a.addEventListener("click",function(){o.classList.remove("popup-recall--visible")})};